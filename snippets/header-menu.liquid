<script src="{{'menu-down-type.js' | asset_url}}" defer></script>

{% liquid
  assign menus = blocks | where: 'type', 'menu'
  assign sub_menus = blocks | where: 'type', 'sub_menu'
  assign three_menus = blocks | where: 'type', 'three_menu'
  assign comparisons = blocks | where: 'type', 'comparison'
  assign link_items = blocks | where: 'type', 'link-item'
%}
<div class="header-menu-container">
  {% for menu in menus %}
    <div class="header-menu-item">
      <a
        class="menu-item-link"
        href="{{menu.settings.menu_link}}"
        {% if menu.settings.menu_link != blank %}
          href="{{menu.settings.menu_link}}"
        {% else %}
          onclick="return false"
        {% endif %}
      >
        <span>{{ menu.settings.text }}</span>
        {% if menu.settings.isShowArrow %}
          {% render 'arrow-icon', class: 'menu-item-arrow' %}
        {% endif %}
      </a>
      {% if menu.settings.isShowArrow %}
        <div class="menu-down-content">
          {% case menu.settings.menu_type %}
            {% when 'type1' %}
              <menu-down-type>
                {% render 'menu-down-type1',
                  comparisons: comparisons,
                  three_menus: three_menus,
                  sub_menus: sub_menus,
                  index: forloop.index
                %}
              </menu-down-type>
            {% when 'type2' %}
              <menu-down-type>
                {% render 'menu-down-type2', sub_menus: sub_menus, index: forloop.index %}
              </menu-down-type>
            {% when 'type3' %}
              {% render 'menu-down-type3', sub_menus: sub_menus, index: forloop.index %}
            {% when 'type4' %}
              {% render 'menu-down-type4', sub_menus: sub_menus, index: forloop.index, link_items: link_items %}
            {% else %}

          {% endcase %}
        </div>
      {% endif %}
    </div>
  {% endfor %}
</div>
